{{define "title"}}DFG list (Drafting){{end}}
{{define "head"}}{{end}}
{{define "content"}}
	<div class="container"><h1>Render Corporate LDAP, RHOS-wise!</h1></div>
		<div id="exTab1" class="container">	
			<ul class="nav nav-tabs">
				<li class="active">
					<a href="#1a" data-toggle="tab">Multiple Tables</a>
				</li>
				<li>
					<a href="#2a" data-toggle="tab">One Table</a>
				</li>
				<li>
					<a href="#3a" data-toggle="tab">Sanity Check</a>
				</li>
			</ul>

			<div class="tab-content clearfix">
				<div class="tab-pane active" id="1a">
					<p/>
						{{range $dfg, $iter := index $.dfgs -}}
						<div class="table-responsive">
						<table class="table table-striped table-bordered table-hover">
						<thead>
							<tr>
								<th colspan="6">{{index $iter "core"}}</th>
							</tr>
						</thead>
						<tbody>
							{{range $squad, $desc := index $iter -}}
								{{if eq $squad "core" -}}
									{{range $uid, $foo := index $.people -}}
										{{range $foo.Dfg -}}
										{{if eq . $dfg -}}
										<tr>
										<td><a href="https://rover.redhat.com/people/profile/{{$uid}}/">{{$foo.Cn}}</a></td>
										<td>{{$foo.Role}}</td>
										<td>{{$foo.Mail}}</td>
										<td>{{$foo.Mobile}}</td>
										<td>{{$foo.Location}}</td>
										<td>{{$foo.Title}}</td>
										</tr>
										{{- end}}
										{{- end}}
									{{- end}}
								{{- else -}}
									<tr>
										<th colspan="6"><i class="fa fa-angle-right" aria-hidden="true"></i>&nbsp; {{$desc}} Squad</th>
									</tr>
									{{range $uid, $foo := index $.people -}}
										{{range $foo.Dfg -}}
										{{if eq . $squad -}}
										<tr>
										<td><a href="https://rover.redhat.com/people/profile/{{$uid}}/">&nbsp; {{$foo.Cn}}</a></td>
										<td>{{$foo.Role}}</td>
										<td>{{$foo.Mail}}</td>
										<td>{{$foo.Mobile}}</td>
										<td>{{$foo.Location}}</td>
										<td>{{$foo.Title}}</td>
										</tr>
										{{- end}}
										{{- end}}
									{{- end}}
								{{- end}}
							{{- end}}
						</tbody>
						</table>
						</div>
						{{- end}}
				</div>

				<div class="tab-pane" id="2a">
					<p/>
					<div class="table-responsive">
					<table class="table table-striped table-bordered table-hover">
							<thead>
								<th>DFG</th>
								<th>Role</th>
								<th>Name</th>
								<th>Mail</th>
							</thead>
							<tbody>
							{{range $dfg, $iter := index $.dfgs -}}
								{{range $squad, $desc := index $iter -}}
									{{range $uid, $foo := index $.people -}}
										{{if eq $squad "core" -}}
											{{range $foo.Dfg -}}
												{{if eq . $dfg -}}
												<tr>
												<td>{{$desc}}</td>
												<td>{{$foo.Role}}</td>
												<td><a href="https://rover.redhat.com/people/profile/{{$uid}}/">{{$foo.Cn}}</a></td>
												<td>{{$foo.Mail}}</td>
												</tr>
												{{- end}}
											{{- end}}
										{{- else -}}
											{{range $foo.Dfg -}}
												{{if eq . $squad -}}
												<tr>
												<td><i class="fa fa-angle-right" aria-hidden="true"></i>&nbsp; {{$desc}}</td>
												<td>{{$foo.Role}}</td>
												<td><a href="https://rover.redhat.com/people/profile/{{$uid}}/">{{$foo.Cn}}</a></td>
												<td>{{$foo.Mail}}</td>
												</tr>
												{{- end}}
											{{- end}}
										{{- end}}
									{{- end}}
								{{- end}}
							{{- end}}
							</tbody>
						</table>
					</div>
				</div>

				<div class="tab-pane" id="3a">
					<h3>TODO</h3>
				</div>
			</div>
		</div>
	</div>

	{{template "footer" .}}
{{end}}
{{define "foot"}}{{end}}
